{% extends 'blog/base.html' %}
{% block title %}Posts — My Blog{% endblock %}
{% block content %}
<h1>Posts</h1>
<form method="get" class="mb-3">
  <div class="input-group">
    <input class="form-control" name="q" placeholder="Search..." value="{{ request.GET.q }}">
    <button class="btn btn-outline-secondary" type="submit">Search</button>
  </div>
</form>
{% for post in posts %}
  <article class="mb-4">
    <h3><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
    <p class="text-muted">By {{ post.author }} · {{ post.created|date:'M d, Y' }}</p>
    <p>{{ post.body|truncatechars:200 }}</p>
  </article>
{% empty %}
  <p>No posts found.</p>
{% endfor %}

<nav aria-label="Page navigation">
  <ul class="pagination">
    {% if posts.has_previous %}
      <li class="page-item"><a class="page-link" href="?page={{ posts.previous_page_number }}">Previous</a></li>
    {% endif %}
    <li class="page-item disabled"><span class="page-link">Page {{ posts.number }} of {{ posts.paginator.num_pages }}</span></li>
    {% if posts.has_next %}
      <li class="page-item"><a class="page-link" href="?page={{ posts.next_page_number }}">Next</a></li>
    {% endif %}
  </ul>
</nav>
{% endblock %}
